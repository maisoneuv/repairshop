# Generated by Django 5.1.6 on 2025-08-17 17:47

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('customers', '0007_alter_customer_options_customer_tenant_and_more'),
        ('service', '0005_location_created_at_location_customer_and_more'),
        ('tasks', '0027_alter_task_options'),
    ]

    operations = [
        migrations.RemoveField(
            model_name='workitem',
            name='customer_dropoff_point',
        ),
        migrations.RemoveField(
            model_name='workitem',
            name='customer_pickup_point',
        ),
        migrations.AddField(
            model_name='workitem',
            name='dropoff_method',
            field=models.CharField(choices=[('walkin', 'Customer drop-off in person'), ('courier', 'Courier'), ('driver', 'Courier pickup from customer')], default='walkin', max_length=20),
        ),
        migrations.AddField(
            model_name='workitem',
            name='dropoff_point',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.PROTECT, related_name='dropoff_items', to='service.location'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='workitem',
            name='fulfillment_shop',
            field=models.ForeignKey(blank=True, help_text='Who actually performs the repair (internal or partner).', null=True, on_delete=django.db.models.deletion.PROTECT, to='service.repairshop'),
        ),
        migrations.AddField(
            model_name='workitem',
            name='pickup_point',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='pickup_items', to='service.location'),
        ),
        migrations.AlterField(
            model_name='workitem',
            name='customer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='customers.customer'),
        ),
        migrations.AlterField(
            model_name='workitem',
            name='customer_asset',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='customers.asset'),
        ),
        migrations.AlterField(
            model_name='workitem',
            name='intake_method',
            field=models.CharField(choices=[('walkin', 'Customer drop-off in person'), ('courier', 'Courier'), ('driver', 'Courier pickup from customer')], default='walkin'),
        ),
        migrations.AlterField(
            model_name='workitem',
            name='owner',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='owner', to='service.employee'),
        ),
        migrations.AlterField(
            model_name='workitem',
            name='technician',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='technician', to='service.employee'),
        ),
    ]
